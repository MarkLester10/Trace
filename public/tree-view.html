<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Trace</title>
		<link rel="stylesheet" href="./assets/css/tailwind.output.css" />
		<link rel="stylesheet" href="./assets/css/main.min.css" />
		<link href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" rel="stylesheet" />
		<script type="module" src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js"></script>
		<script src="https://cdn.jsdelivr.net/gh/deltoss/d3-mitch-tree@1.0.2/dist/js/d3-mitch-tree.min.js"></script>
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/deltoss/d3-mitch-tree@1.0.2/dist/css/d3-mitch-tree.min.css" />
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/deltoss/d3-mitch-tree@1.0.2/dist/css/d3-mitch-tree-theme-default.min.css" />
	</head>

	<style>
		rect.title-box {
			fill: rgba(245, 158, 11, 1) !important;
			stroke: rgba(245, 158, 11, 1) !important;
		}
		rect.body-box {
			stroke: rgb(245, 46, 11) !important;
		}
		.mitch-d3-tree.boxed-tree.default .node.collapsed .body-group .body-box {
			fill: rgba(245, 158, 11, 0.5) !important;
			stroke: rgba(245, 158, 11, 1) !important;
		}
	</style>

	<body x-data="{ open: false, isProfileOpen:false}">
		<div class="grid__container">
			<!-- header -->
			<div class="banner flex items-center">
				<div class="container mx-auto flex items-center justify-between">
					<div>
						<div class="block lg:hidden">
							<a href="/">
								<img src="./assets/imgs/logo.png" class="w-64" alt="Trace" />
							</a>
						</div>
					</div>
					<div class="hidden lg:block">
						<ul class="flex flex-wrap items-center justify-center md:justify-items-auto space-x-8">
							<li>
								<a href="/">Home</a>
							</li>
							<li>
								<a href="#">About</a>
							</li>
							<li>
								<a href="#">FAQs</a>
							</li>
							<li>
								<a href="#">Contact</a>
							</li>
							<li class="relative">
								<a href="javascript: void(0);" class="flex items-center space-x-2" @click="isProfileOpen = true">
									<img src="./assets/imgs/img-placeholder.png" class="w-20 h-20 rounded-full text-yellow-500 focus:ring-0 object-cover ring ring-yellow-400 ring-offset-2" alt="" />
									<svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path>
									</svg>
								</a>
								<div class="bg-gray-50 shadow-md p-6 -bottom-56 -left-20 absolute z-50" x-show="isProfileOpen" @click.away="isProfileOpen = false">
									<ul class="space-y-6">
										<li>
											<a href="dashboard.html" class="hover:text-yellow-400">Dashboard</a>
										</li>
										<li>
											<a href="#" class="hover:text-yellow-400">Profile</a>
										</li>
										<li>
											<a href="#" class="hover:text-yellow-400">Logout</a>
										</li>
									</ul>
								</div>
							</li>
						</ul>
					</div>
					<div class="block lg:hidden cursor-pointer" @click="open = true">
						<svg class="w-16 h-16 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path>
						</svg>
					</div>
				</div>
			</div>

			<!-- sidebar -->
			<div class="sidebar">
				<div class="container mx-auto relative h-full">
					<div class="sidebar__logo">
						<a href="/">
							<img src="./assets/imgs/logo.png" class="w-9/12 object-cover" alt="Trace" />
						</a>
					</div>
					<p class="para mt-12 white">Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellat fuga odio aliquam laboriosam voluptatum quia, mollitia ipsa incidunt nisi, ex aliquid quisquam dolor expedita autem laudantium voluptates</p>
					<div class="absolute bottom-0 right-6">
						<svg xmlns="http://www.w3.org/2000/svg" class="w-40" viewBox="0 0 172 130">
							<g id="Group_2" data-name="Group 2" transform="translate(-288 -897.975)">
								<circle id="Ellipse_1" data-name="Ellipse 1" cx="7" cy="7" r="7" transform="translate(288 897.975)" fill="#bbcbd8" />
								<circle id="Ellipse_10" data-name="Ellipse 10" cx="7" cy="7" r="7" transform="translate(288 936.975)" fill="#bbcbd8" />
								<circle id="Ellipse_15" data-name="Ellipse 15" cx="7" cy="7" r="7" transform="translate(288 974.975)" fill="#bbcbd8" />
								<circle id="Ellipse_20" data-name="Ellipse 20" cx="7" cy="7" r="7" transform="translate(288 1013.975)" fill="#bbcbd8" />
								<circle id="Ellipse_2" data-name="Ellipse 2" cx="7" cy="7" r="7" transform="translate(327 897.975)" fill="#bbcbd8" />
								<circle id="Ellipse_9" data-name="Ellipse 9" cx="7" cy="7" r="7" transform="translate(327 936.975)" fill="#bbcbd8" />
								<circle id="Ellipse_14" data-name="Ellipse 14" cx="7" cy="7" r="7" transform="translate(327 974.975)" fill="#bbcbd8" />
								<circle id="Ellipse_19" data-name="Ellipse 19" cx="7" cy="7" r="7" transform="translate(327 1013.975)" fill="#bbcbd8" />
								<circle id="Ellipse_3" data-name="Ellipse 3" cx="7" cy="7" r="7" transform="translate(367 897.975)" fill="#bbcbd8" />
								<circle id="Ellipse_8" data-name="Ellipse 8" cx="7" cy="7" r="7" transform="translate(367 936.975)" fill="#bbcbd8" />
								<circle id="Ellipse_11" data-name="Ellipse 11" cx="7" cy="7" r="7" transform="translate(367 974.975)" fill="#bbcbd8" />
								<circle id="Ellipse_16" data-name="Ellipse 16" cx="7" cy="7" r="7" transform="translate(367 1013.975)" fill="#bbcbd8" />
								<circle id="Ellipse_4" data-name="Ellipse 4" cx="7" cy="7" r="7" transform="translate(406 897.975)" fill="#bbcbd8" />
								<circle id="Ellipse_6" data-name="Ellipse 6" cx="7" cy="7" r="7" transform="translate(406 936.975)" fill="#bbcbd8" />
								<circle id="Ellipse_12" data-name="Ellipse 12" cx="7" cy="7" r="7" transform="translate(406 974.975)" fill="#bbcbd8" />
								<circle id="Ellipse_17" data-name="Ellipse 17" cx="7" cy="7" r="7" transform="translate(406 1013.975)" fill="#bbcbd8" />
								<circle id="Ellipse_5" data-name="Ellipse 5" cx="7" cy="7" r="7" transform="translate(446 897.975)" fill="#bbcbd8" />
								<circle id="Ellipse_7" data-name="Ellipse 7" cx="7" cy="7" r="7" transform="translate(446 936.975)" fill="#bbcbd8" />
								<circle id="Ellipse_13" data-name="Ellipse 13" cx="7" cy="7" r="7" transform="translate(446 974.975)" fill="#bbcbd8" />
								<circle id="Ellipse_18" data-name="Ellipse 18" cx="7" cy="7" r="7" transform="translate(446 1013.975)" fill="#bbcbd8" />
							</g>
						</svg>
					</div>
				</div>
				<div class="absolute bottom-0 left-0 w-96">
					<img src="./assets/imgs/folks.png" class="h-full w-full" alt="" />
				</div>
			</div>

			<!-- main -->
			<main class="main__area">
				<div class="container mx-auto relative w-full">
					<section id="contact-tracing" class="relative w-full border border-black" style="height: 80vh"></section>
				</div>
			</main>

			<!-- footer -->
			<footer class="footer__area">
				<div class="container mx-auto flex flex-col md:flex-row items-center text-center md:justify-between">
					<p class="para">&copy; 2020 - 2021 Trace. All rights reserved.</p>
					<ul class="flex items-center space-x-6 mt-2 md:mt-0">
						<li><a href="#">Terms and Conditions</a></li>
						<li><a href="#">Policy</a></li>
					</ul>
				</div>
			</footer>
		</div>

		<script src="./assets/js/main.js"></script>

		<!-- D3 Data -->
		<script>
			function getData() {
				var data = {
					id: 1,
					name: 'Jane Doe',
					type: 'Root',
					description: 'Positive Patient',
					children: [
						{
							id: 2,
							name: 'Lester Stephens',
							type: 'Primary',
							description: 'Primary Contact',
							children: [
								{
									id: 3,
									name: 'Johnnie Castillo',
									type: 'Secondary',
									description: 'Secondary Contact',
									children: [
										{
											id: 4,
											name: 'Bradford Reynolds',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
										{
											id: 5,
											name: 'Jesus Vaughn',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
									],
								},
								{
									id: 6,
									name: 'Kristen Cook',
									type: 'Secondary',
									description: 'Secondary Contact',
									children: [
										{
											id: 7,
											name: 'Jenny Wheeler',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
										{
											id: 8,
											name: 'Tracy Lynch',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
									],
								},
								{
									id: 9,
									name: 'Owen Aguilar',
									type: 'Secondary',
									description: 'Secondary Contact',
									children: [
										{
											id: 10,
											name: 'Clinton Klein',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
										{
											id: 11,
											name: 'Mary Burgess',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
									],
								},
							],
						},
						{
							id: 12,
							name: 'Ruben King',
							type: 'Type',
							description: 'Primary Contact',
							children: [
								{
									id: 13,
									name: 'Marty Cook',
									type: 'Secondary',
									description: 'Secondary Contact',
									children: [
										{
											id: 14,
											name: 'Marie Harrington',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
										{
											id: 15,
											name: 'Melanie Chavez',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
									],
								},
								{
									id: 16,
									name: 'Johnny Cannon',
									type: 'Secondary',
									description: 'Secondary Contact',
									children: [
										{
											id: 17,
											name: 'Robyn Bowen',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
										{
											id: 18,
											name: 'Lorene Lopez',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
									],
								},
								{
									id: 19,
									name: 'Marlon Hawkins',
									type: 'Secondary',
									description: 'Secondary Contact',
									children: [
										{
											id: 20,
											name: 'Yvette Stone',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
										{
											id: 21,
											name: 'Elmer Jenkins',
											type: 'Tertiary',
											description: 'Tertiary Contact',
											children: [],
										},
									],
								},
							],
						},
					],
				};

				return data;
			}

			var data = getData();

			var treePlugin = new d3.mitchTree.boxedTree()
				.setAllowFocus(false)
				.setAllowZoom(false)
				.setAllowPan(true)
				.setAllowNodeCentering(false)
				.setData(data)
				.setElement(document.getElementById('contact-tracing'))
				.setIdAccessor(function (data) {
					return data.id;
				})
				.setChildrenAccessor(function (data) {
					return data.children;
				})
				.setBodyDisplayTextAccessor(function (data) {
					return data.description;
				})
				.setTitleDisplayTextAccessor(function (data) {
					return data.name;
				})
				.initialize();

			treePlugin.getZoomListener().scaleTo(treePlugin.getSvg(), 1);
			treePlugin.getZoomListener().translateTo(treePlugin.getSvg(), treePlugin.getWidthWithoutMargins(), treePlugin.getHeightWithoutMargins() / 2);
		</script>
	</body>
</html>
